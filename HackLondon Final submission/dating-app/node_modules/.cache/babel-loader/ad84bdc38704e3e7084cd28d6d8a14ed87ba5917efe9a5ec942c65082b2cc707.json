{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\omals\\\\Documents\\\\GitHub\\\\LLM\\\\HackLondon Final submission\\\\dating-app\\\\src\\\\pages\\\\AIChatSimulation.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Typography, Box, Button, Paper, CircularProgress, Alert } from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\n\n// Simple configuration\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GROQ_API_KEY = process.env.REACT_APP_GROQ_API_KEY;\nconst API_ENDPOINT = \"https://api.groq.com/openai/v1/chat/completions\";\nconst MODEL = \"llama3-70b-8192\";\n\n// Define the two personalities\nconst personalities = [{\n  name: \"Alex\",\n  color: \"#3f51b5\",\n  description: \"Thoughtful, philosophical, enjoys deep conversations\"\n}, {\n  name: \"Jordan\",\n  color: \"#f50057\",\n  description: \"Energetic, adventurous, loves sharing experiences\"\n}];\n\n// Simple conversation starters\nconst STARTERS = [\"What gives life meaning?\", \"Where would you travel if you could go anywhere?\", \"Is technology bringing people closer or pushing them apart?\", \"What's a book that changed your view of the world?\", \"What's something you've changed your mind about recently?\"];\nconst AIChatSimulation = () => {\n  _s();\n  const navigate = useNavigate();\n  const [messages, setMessages] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  // Scroll to bottom when messages change\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Start the conversation - now just gets one response\n  const startConversation = async () => {\n    setMessages([]);\n    setError(null);\n    setIsRunning(true);\n\n    // Choose a random starter\n    const starter = STARTERS[Math.floor(Math.random() * STARTERS.length)];\n    console.log(\"Starting with:\", starter);\n\n    // Add the starter message from Alex\n    addMessage(0, starter);\n\n    // Get a single response from Jordan\n    try {\n      var _data$choices, _data$choices$, _data$choices$$messag, _data$choices$$messag2;\n      // Show loading state\n      setIsLoading(true);\n      addMessage(1, \"...\");\n\n      // Create the prompt for Jordan\n      const prompt = createPrompt(1, 0, starter);\n\n      // Call the API\n      const response = await fetch(API_ENDPOINT, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${GROQ_API_KEY}`\n        },\n        body: JSON.stringify({\n          model: MODEL,\n          messages: [{\n            role: \"user\",\n            content: prompt\n          }],\n          max_tokens: 150,\n          temperature: 0.7\n        })\n      });\n\n      // Handle errors\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error(\"API error response:\", errorText);\n        throw new Error(`API error (${response.status}): ${errorText}`);\n      }\n\n      // Process the response\n      const data = await response.json();\n      console.log(\"API response:\", data);\n      const responseText = (_data$choices = data.choices) === null || _data$choices === void 0 ? void 0 : (_data$choices$ = _data$choices[0]) === null || _data$choices$ === void 0 ? void 0 : (_data$choices$$messag = _data$choices$.message) === null || _data$choices$$messag === void 0 ? void 0 : (_data$choices$$messag2 = _data$choices$$messag.content) === null || _data$choices$$messag2 === void 0 ? void 0 : _data$choices$$messag2.trim();\n      if (!responseText) {\n        throw new Error(\"Empty response from API\");\n      }\n\n      // Replace loading message with actual response\n      setMessages(prev => {\n        const newMessages = [...prev];\n        // Replace the last message (loading indicator)\n        newMessages[newMessages.length - 1] = {\n          id: Date.now(),\n          speaker: 1,\n          text: responseText\n        };\n        return newMessages;\n      });\n    } catch (err) {\n      console.error(\"API error:\", err);\n\n      // Use a fallback response\n      const fallback = \"That's a fascinating question! I love thinking about life's big adventures. Last summer while hiking in New Zealand, I had this amazing moment of clarity about what gives my life meaning - it's all about collecting experiences and sharing them with others!\";\n\n      // Replace loading message with fallback\n      setMessages(prev => {\n        const newMessages = [...prev];\n        newMessages[newMessages.length - 1] = {\n          id: Date.now(),\n          speaker: 1,\n          text: fallback\n        };\n        return newMessages;\n      });\n      setError(`API error: ${err.message}`);\n    } finally {\n      setIsLoading(false);\n      setIsRunning(false);\n    }\n  };\n\n  // Add a message to the conversation\n  const addMessage = (speakerIndex, text) => {\n    const newMessage = {\n      id: Date.now(),\n      speaker: speakerIndex,\n      text: text\n    };\n    setMessages(prev => [...prev, newMessage]);\n    return newMessage;\n  };\n\n  // Create a prompt for the API based on personality\n  const createPrompt = (currentSpeaker, lastSpeaker, lastMessage) => {\n    const current = personalities[currentSpeaker];\n    const last = personalities[lastSpeaker];\n    return `You are ${current.name} who is ${current.description}.\n    \n    ${last.name} just said to you: \"${lastMessage}\"\n    \n    Respond as ${current.name}, keeping your response under 80 words and staying in character.\n    Be concise but authentic to your personality.`;\n  };\n\n  // Stop the conversation\n  const stopConversation = () => {\n    setIsRunning(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/'),\n        sx: {\n          mb: 3\n        },\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        textAlign: \"center\",\n        children: \"AI Conversation Simulation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          gap: 2,\n          mb: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: startConversation,\n          disabled: isRunning,\n          children: \"Start Conversation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          height: '60vh',\n          p: 2,\n          mb: 2,\n          overflowY: 'auto',\n          bgcolor: '#f5f5f5'\n        },\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: message.speaker === 0 ? 'flex-start' : 'flex-end',\n            mb: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              maxWidth: '80%',\n              bgcolor: personalities[message.speaker].color,\n              color: 'white',\n              p: 2,\n              borderRadius: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                opacity: 0.9,\n                mb: 0.5\n              },\n              children: personalities[message.speaker].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: message.text === \"...\" ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 16,\n                color: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this) : message.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: personalities.map((person, index) => /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            color: person.color\n          },\n          children: [person.name, \": \", messages.filter(m => m.speaker === index && m.text !== \"...\").length, \" messages\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n};\n_s(AIChatSimulation, \"/MXRl+5+6QnNFS7SRte+hzm5rI8=\", false, function () {\n  return [useNavigate];\n});\n_c = AIChatSimulation;\nexport default AIChatSimulation;\nvar _c;\n$RefreshReg$(_c, \"AIChatSimulation\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","Container","Typography","Box","Button","Paper","CircularProgress","Alert","ArrowBackIcon","jsxDEV","_jsxDEV","GROQ_API_KEY","process","env","REACT_APP_GROQ_API_KEY","API_ENDPOINT","MODEL","personalities","name","color","description","STARTERS","AIChatSimulation","_s","navigate","messages","setMessages","isRunning","setIsRunning","isLoading","setIsLoading","error","setError","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","startConversation","starter","Math","floor","random","length","console","log","addMessage","_data$choices","_data$choices$","_data$choices$$messag","_data$choices$$messag2","prompt","createPrompt","response","fetch","method","headers","body","JSON","stringify","model","role","content","max_tokens","temperature","ok","errorText","text","Error","status","data","json","responseText","choices","message","trim","prev","newMessages","id","Date","now","speaker","err","fallback","speakerIndex","newMessage","currentSpeaker","lastSpeaker","lastMessage","last","stopConversation","maxWidth","children","sx","py","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","onClick","mb","variant","gutterBottom","textAlign","severity","display","justifyContent","gap","disabled","elevation","height","p","overflowY","bgcolor","map","flexDirection","alignItems","borderRadius","opacity","size","ref","person","index","filter","m","_c","$RefreshReg$"],"sources":["C:/Users/omals/Documents/GitHub/LLM/HackLondon Final submission/dating-app/src/pages/AIChatSimulation.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Paper,\r\n  CircularProgress,\r\n  Alert\r\n} from '@mui/material';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\n\r\n// Simple configuration\r\nconst GROQ_API_KEY = process.env.REACT_APP_GROQ_API_KEY;\r\nconst API_ENDPOINT = \"https://api.groq.com/openai/v1/chat/completions\";\r\nconst MODEL = \"llama3-70b-8192\";\r\n\r\n// Define the two personalities\r\nconst personalities = [\r\n  {\r\n    name: \"Alex\",\r\n    color: \"#3f51b5\",\r\n    description: \"Thoughtful, philosophical, enjoys deep conversations\"\r\n  },\r\n  {\r\n    name: \"Jordan\",\r\n    color: \"#f50057\", \r\n    description: \"Energetic, adventurous, loves sharing experiences\"\r\n  }\r\n];\r\n\r\n// Simple conversation starters\r\nconst STARTERS = [\r\n  \"What gives life meaning?\",\r\n  \"Where would you travel if you could go anywhere?\",\r\n  \"Is technology bringing people closer or pushing them apart?\",\r\n  \"What's a book that changed your view of the world?\",\r\n  \"What's something you've changed your mind about recently?\"\r\n];\r\n\r\nconst AIChatSimulation = () => {\r\n  const navigate = useNavigate();\r\n  const [messages, setMessages] = useState([]);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Scroll to bottom when messages change\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Start the conversation - now just gets one response\r\n  const startConversation = async () => {\r\n    setMessages([]);\r\n    setError(null);\r\n    setIsRunning(true);\r\n    \r\n    // Choose a random starter\r\n    const starter = STARTERS[Math.floor(Math.random() * STARTERS.length)];\r\n    console.log(\"Starting with:\", starter);\r\n    \r\n    // Add the starter message from Alex\r\n    addMessage(0, starter);\r\n    \r\n    // Get a single response from Jordan\r\n    try {\r\n      // Show loading state\r\n      setIsLoading(true);\r\n      addMessage(1, \"...\");\r\n      \r\n      // Create the prompt for Jordan\r\n      const prompt = createPrompt(1, 0, starter);\r\n      \r\n      // Call the API\r\n      const response = await fetch(API_ENDPOINT, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${GROQ_API_KEY}`\r\n        },\r\n        body: JSON.stringify({\r\n          model: MODEL,\r\n          messages: [{ role: \"user\", content: prompt }],\r\n          max_tokens: 150,\r\n          temperature: 0.7\r\n        })\r\n      });\r\n      \r\n      // Handle errors\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error(\"API error response:\", errorText);\r\n        throw new Error(`API error (${response.status}): ${errorText}`);\r\n      }\r\n      \r\n      // Process the response\r\n      const data = await response.json();\r\n      console.log(\"API response:\", data);\r\n      const responseText = data.choices?.[0]?.message?.content?.trim();\r\n      \r\n      if (!responseText) {\r\n        throw new Error(\"Empty response from API\");\r\n      }\r\n      \r\n      // Replace loading message with actual response\r\n      setMessages(prev => {\r\n        const newMessages = [...prev];\r\n        // Replace the last message (loading indicator)\r\n        newMessages[newMessages.length - 1] = {\r\n          id: Date.now(),\r\n          speaker: 1,\r\n          text: responseText\r\n        };\r\n        return newMessages;\r\n      });\r\n      \r\n    } catch (err) {\r\n      console.error(\"API error:\", err);\r\n      \r\n      // Use a fallback response\r\n      const fallback = \"That's a fascinating question! I love thinking about life's big adventures. Last summer while hiking in New Zealand, I had this amazing moment of clarity about what gives my life meaning - it's all about collecting experiences and sharing them with others!\";\r\n      \r\n      // Replace loading message with fallback\r\n      setMessages(prev => {\r\n        const newMessages = [...prev];\r\n        newMessages[newMessages.length - 1] = {\r\n          id: Date.now(),\r\n          speaker: 1,\r\n          text: fallback\r\n        };\r\n        return newMessages;\r\n      });\r\n      \r\n      setError(`API error: ${err.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setIsRunning(false);\r\n    }\r\n  };\r\n\r\n  // Add a message to the conversation\r\n  const addMessage = (speakerIndex, text) => {\r\n    const newMessage = {\r\n      id: Date.now(),\r\n      speaker: speakerIndex,\r\n      text: text\r\n    };\r\n    \r\n    setMessages(prev => [...prev, newMessage]);\r\n    return newMessage;\r\n  };\r\n\r\n  // Create a prompt for the API based on personality\r\n  const createPrompt = (currentSpeaker, lastSpeaker, lastMessage) => {\r\n    const current = personalities[currentSpeaker];\r\n    const last = personalities[lastSpeaker];\r\n    \r\n    return `You are ${current.name} who is ${current.description}.\r\n    \r\n    ${last.name} just said to you: \"${lastMessage}\"\r\n    \r\n    Respond as ${current.name}, keeping your response under 80 words and staying in character.\r\n    Be concise but authentic to your personality.`;\r\n  };\r\n\r\n  // Stop the conversation\r\n  const stopConversation = () => {\r\n    setIsRunning(false);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Box sx={{ py: 4 }}>\r\n        <Button \r\n          startIcon={<ArrowBackIcon />} \r\n          onClick={() => navigate('/')}\r\n          sx={{ mb: 3 }}\r\n        >\r\n          Back\r\n        </Button>\r\n        \r\n        <Typography variant=\"h4\" gutterBottom textAlign=\"center\">\r\n          AI Conversation Simulation\r\n        </Typography>\r\n        \r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n        \r\n        {/* Controls */}\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', gap: 2, mb: 3 }}>\r\n          <Button \r\n            variant=\"contained\" \r\n            color=\"primary\" \r\n            onClick={startConversation}\r\n            disabled={isRunning}\r\n          >\r\n            Start Conversation\r\n          </Button>\r\n        </Box>\r\n        \r\n        {/* Chat display */}\r\n        <Paper \r\n          elevation={3} \r\n          sx={{ \r\n            height: '60vh', \r\n            p: 2, \r\n            mb: 2, \r\n            overflowY: 'auto',\r\n            bgcolor: '#f5f5f5' \r\n          }}\r\n        >\r\n          {messages.map((message) => (\r\n            <Box \r\n              key={message.id}\r\n              sx={{ \r\n                display: 'flex', \r\n                flexDirection: 'column',\r\n                alignItems: message.speaker === 0 ? 'flex-start' : 'flex-end',\r\n                mb: 2\r\n              }}\r\n            >\r\n              <Box \r\n                sx={{ \r\n                  maxWidth: '80%', \r\n                  bgcolor: personalities[message.speaker].color,\r\n                  color: 'white',\r\n                  p: 2, \r\n                  borderRadius: 2\r\n                }}\r\n              >\r\n                <Typography variant=\"subtitle2\" sx={{ opacity: 0.9, mb: 0.5 }}>\r\n                  {personalities[message.speaker].name}\r\n                </Typography>\r\n                \r\n                <Typography variant=\"body1\">\r\n                  {message.text === \"...\" ? (\r\n                    <CircularProgress size={16} color=\"inherit\" />\r\n                  ) : message.text}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          ))}\r\n          <div ref={messagesEndRef} />\r\n        </Paper>\r\n        \r\n        {/* Stats */}\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n          {personalities.map((person, index) => (\r\n            <Typography key={index} variant=\"body2\" sx={{ color: person.color }}>\r\n              {person.name}: {messages.filter(m => m.speaker === index && m.text !== \"...\").length} messages\r\n            </Typography>\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AIChatSimulation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}